<p><em>This section is adapted from:
    <a class="reference external" href="https://cookiecutter-pypackage.readthedocs.io/en/latest/tutorial.html">
        https://cookiecutter-pypackage.readthedocs.io/en/latest/tutorial.html</a>.
    Creating your package should take less than 5 minutes with the minimal options (cookiecutter + PyCharm),
    and less than 30 minutes if you use all the goodies (Virtual environment, GitHub, etc).
</em></p>


<div>
    <h3>Generate Your Package with Cookiecutter</h3>
    <ol class="arabic">
        <li><p>Your project will need a project name (e.g. <em>My Toy Package</em>) and a project slug (typically
            <code class="docutils literal notranslate"><span class="pre">my_toy_package</span></code>). Before starting,
            check that your project slug is not used in <a href="https://pypi.python.org/pypi">PyPI</a>,
            <strong>even if you do not plan to use PyPI for the moment</strong>.
        </p></li>
        <li><p>In a terminal (e.g. Anaconda Prompt):</p>
            <ol class="arabic">
                <li><p>Go to the parent directory of where you want to put the directory of your package, e.g.
                    <code class="docutils literal notranslate"><span class="pre">D:\GitHub\</span></code>.
                </p></li>
                <li><p><code class="docutils literal notranslate">
                    <span class="pre">cookiecutter https://github.com/francois-durand/package_helper_2.git</span>
                </code></p></li>
                <li><p>Answer the questions. Here is an example (some explanations follow):</p>
                    <div class="highlight-default notranslate"><div class="highlight"><pre>
                        <span class="n">full_name [F. Durand]: François Durand</span>
                        <span class="n">email [fradurand@gmail.com]: fradurand@gmail.com</span>
                        <span class="n">github_username [francois-durand]: francois-durand</span>
                        <span class="n">project_name [Python Boilerplate]: My Toy Package</span>
                        <span class="n">project_slug [my_toy_package]:</span>
                        <span class="n">project_short_description [Python Boilerplate contains all the boilerplate
                            you need to create a Python package.]: My Toy Package is a beautiful package.</span>
                        <span class="n">version [0.1.0]:</span>
                        <span class="n">use_pytest [y]:</span>
                        <span class="n">use_codecov [y]:</span>
                        <span class="n">Select command_line_interface:</span>
                        <span class="mi">1 - No command-line interface</span>
                        <span class="mi">2 - Click</span>
                        <span class="mi">3 - Argparse</span>
                        <span class="n">Choose from 1, 2, 3 (1, 2, 3) [1]:</span>
                        <span class="n">create_author_file [y]:</span>
                        <span class="n">Select open_source_license:</span>
                        <span class="mi">1 - GNU General Public License v3</span>
                        <span class="mi">2 - MIT license</span>
                        <span class="mi">3 - BSD license</span>
                        <span class="mi">4 - ISC license</span>
                        <span class="mi">5 - Apache Software License 2.0</span>
                        <span class="mi">6 - Not open source</span>
                        <span class="n">Choose from 1, 2, 3, 4, 5, 6 (1, 2, 3, 4, 5, 6) [1]:</span>
                    </pre></div></div>
                </li>
            </ol>
        </li>
    </ol>
    <p>Some explanations now:</p>
    <ul class="simple">
        <li><p><code class="docutils literal notranslate"><span class="pre">use_pytest</span></code>: there are
            essentially three ways to do unit tests in Python: unittest (the standard solution), pytest (the
            recommended test package) and doctest (where tests are integrated in the docstrings). If you are new to
            testing, I suggest using doctest. But even so, pytest is useful to configure your tests (as we will do a
            bit later). For this reason, in all cases, I suggest to answer <em>yes</em>.
        </p></li>
        <li><p><code class="docutils literal notranslate"><span class="pre">use_codecov</span></code>: you use Codecov
            to assess the coverage of your code by your tests.
        </p></li>
        <li><p><code class="docutils literal notranslate"><span class="pre">Click</span></code>
            and <code class="docutils literal notranslate"><span class="pre">Argparse</span></code> allow you
            to easily call your program with unix-style command, e.g.
            <code class="docutils literal notranslate"><span class="pre">python my_program.py --help</span></code>.
            You can choose either of them without harm, even if you do not use it for the moment. But personally,
            I answer <em>no</em>.
        </p></li>
        <li><p><code class="docutils literal notranslate"><span class="pre">create_author_file</span></code>: I
            suggest to answer <em>yes</em>.
        </p></li>
    </ul>
    <p>In PyCharm, choose "Open a project" and select the directory of your package: the whole file structure is in
        there!
    </p>
</div>


<div class="venv">
    <h3>Create a Virtual Environment</h3>
    <p><em>A virtual environment is essentially a Python installation dedicated to your project, with its own versions
        of the third-party packages. It ensures that if you reuse this project several months later, it will still
        work…
    </em></p>
    <p>In PyCharm:</p>
    <ol class="arabic simple">
        <li><p>Menu File → Settings → Project → Project Interpreter. (For Apple users: PyCharm → Preferences →
            Project → Project Interpreter.)
        </p></li>
        <li><p>Click on the gear-shaped icon → Add.</p></li>
        <li><p>Fill in the form: New environment using Virtualenv. This directory proposed is just fine.
            Validate.
        </p></li>
    </ol>
</div>


<div>
    <h3>Install Dev Requirements</h3>
    <p><em>The file <code class="docutils literal notranslate"><span class="pre">requirements_dev.txt</span></code>
        contains the list of the third-party packages that you need for development, such as
        <code class="docutils literal notranslate"><span class="pre">sphinx</span></code> or
        <code class="docutils literal notranslate"><span class="pre">pytest</span></code>, but
        that the end-user does not need when using your package.</em></p>
    <p>In PyCharm's terminal:</p>
    <ol class="arabic">
        <li><p>Ensure you are in the directory of your package (e.g.
            <code class="docutils literal notranslate"><span class="pre">D:\GitHub\my_toy_package</span></code>).
        </p></li>
        <li class="venv"><p>Ensure that your virtual environment is activated: there should be
            <code class="docutils literal notranslate"><span class="pre">(venv)</span></code> at the beginning of
            the line. If not:</p>
            <div class="highlight-default notranslate"><div class="highlight"><pre>
                <span class="n">Windows: venv\Scripts\activate</span>
                <span class="n">Linux:   source venv/bin/activate</span>
            </pre></div></div>
        </li>
        <li><p>
            <code class="docutils literal notranslate"><span class="pre">pip install -r requirements_dev.txt</span>
            </code>
        </p></li>
    </ol>
    <p><em>Linux users: if cryptography is already installed with apt-get install, you may need to uninstall it before
        pip-installing the dev requirements.
    </em></p>
</div>


<div>
    <h3>Install Your Package in “Development Mode”</h3>
    <p><em>This way, your package behaves as if it were installed, but any change you make will have effect
        immediately.
    </em></p>
    <p>In PyCharm's terminal, you should still be in the directory of your package. Do:</p>
    <div class="highlight-default notranslate"><div class="highlight"><pre>
        <span class="n">python setup.py develop</span>
    </pre></div>
    </div>
</div>


<div>
    <h3>Add a Run Configuration for the Documentation</h3>
    <p>In PyCharm:</p>
    <ol class="arabic simple">
        <li><p>In the root of your project, add a directory named
            <code class="docutils literal notranslate"><span class="pre">build</span></code>.
        </p></li>
        <li><p>Menu Run → Edit Configurations.</p></li>
        <li><p>Plus icon (top left) → Python docs → Sphinx task.</p></li>
        <li><p>Give a name to the configuration, e.g.
            <code class="docutils literal notranslate"><span class="pre">Generate docs</span></code>.
        </p></li>
        <li><p>Input: the “docs” directory of your project.</p></li>
        <li><p>Output: the “build” directory of your project.</p></li>
        <li><p>OK.</p></li>
    </ol>
    <p>Run this configuration: you should have a warning “Title underline too short”.</p>
    <ol class="arabic simple">
        <li><p>Go to the mentioned file and correct the problem.</p></li>
        <li><p>Run the configuration again: normally, it generates the documentation.</p></li>
        <li><p>To check the result, you can open the file
            <code class="docutils literal notranslate"><span class="pre">build/index.html</span></code>.
        </p></li>
    </ol>
    <p><em>The template contains examples of classes, such as the file
        <code class="docutils literal notranslate"><span class="pre">my_class_1.py</span></code>.
        You can use them as models if you are new to Sphinx documentation.
    </em></p>
</div>


<div>
    <h3>Add a Run Configuration for the Unit Tests</h3>
    <p>In PyCharm:</p>
    <ol class="arabic simple">
        <li><p>Menu Run → Edit Configurations.</p></li>
        <li><p>Add a new configuration by clicking the + button → Python tests → pytest.</p></li>
        <li><p>Give a name to the configuration, e.g.
            <code class="docutils literal notranslate"><span class="pre">All tests</span></code>.
        </p></li>
        <li><p>Ignore the warning and validate.</p></li>
    </ol>
    <p>Run this configuration: normally, it runs all the tests of the project.</p>
    <p><em>If you are new to testing, you can take example from the classes provided by the template, such as
        <code class="docutils literal notranslate"><span class="pre">my_class_1.py</span></code>.
    </em></p>
</div>


<div class="github">
    <h3>Create the GitHub Repo</h3>
    <p>In PyCharm:</p>
    <ol class="arabic">
        <li><p>Menu VCS → Import into version control → Share project on GitHub.</p></li>
        <li><p>Fill in the form and validate, e.g.:</p>
            <div class="highlight-default notranslate"><div class="highlight"><pre>
                <span class="n">New repository name: my_toy_package</span>
                <span class="n">Remote name: origin</span>
                <span class="n">Description: My Toy Package is a beautiful package.</span>
            </pre></div></div>
        </li>
    </ol>
    <p>In a browser, you can go to your <a href="https://github.com">GitHub</a> account to check that everything is
        there.
    </p>
</div>


<div class="github">
    <h3>Check That Everything Is Working</h3>

    <ol class="arabic simple">
        <li class="github"><p>In PyCharm, make a slight modification, e.g. in the file
            <code class="docutils literal notranslate"><span class="pre">README.rst</span></code>.
            Then commit/push:</p>
            <ol class="arabic simple">
                <li><p>Menu VCS → Commit.</p></li>
                <li><p>Enter a commit message.</p></li>
                <li><p>Commit → Commit and push.</p></li>
                <li><p>Push.</p></li>
            </ol>
        </li>

        <li><p>On the GitHub page of your package:</p>
            <ol class="arabic simple">
                <li><p>Go to Actions.</p></li>
                <li><p>The actions should be a success (it may take several minutes): build + docs.</p></li>
                <li><p>Go to the GitHub Page of your project and check that the documentation is there.</p></li>
                <li><p>In the table of contents, click on the first page (e.g. <em>My Toy Package</em>). Depending on
                    your initial choice of options, you should have three to five <em>badges</em>:</p>
                    <ol class="arabic simple">
                        <li class="pypi"><p>PyPI: package or version not found (there will be the version number after
                            your first release).</p></li>
                        <li class="github"><p>Build: passing.</p></li>
                        <li class="github"><p>Docs: passing.</p></li>
                        <li class="codecov"><p>Codecov: with a percentage.</p></li>
                    </ol>
                </li>
                <li><p>In the table of contents, click on <em>Reference</em>. You should see the documentation of the
                    classes provided by the template.</p></li>
            </ol>
        </li>

        <li class="codecov"><p>On <a href="https://codecov.io">Codecov's website</a>:</p>
            <ol class="arabic simple">
                <li><p>Log in with your GitHub account.</p></li>
                <li><p>Click on your name.</p></li>
                <li><p>Select your package.</p></li>
                <li><p>Once GitHub has finished the "build" action, you can navigate in your project to see what parts
                    of the code are covered by the tests.</p></li>
            </ol>
        </li>
    </ol>

    <p class="pypi">If you wish, you are now ready to release your first version (cf. below).</p>
</div>
