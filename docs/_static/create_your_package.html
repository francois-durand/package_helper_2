<p><em>This section is adapted from:
    <a class="reference external" href="https://cookiecutter-pypackage.readthedocs.io/en/latest/tutorial.html">
        https://cookiecutter-pypackage.readthedocs.io/en/latest/tutorial.html</a>.
    Creating your package should take less than 5 minutes with the minimal options (cookiecutter + PyCharm),
    and less than 30 minutes if you use all the goodies (Virtual environment, GitHub, etc).
</em></p>


<div>
    <h3>Generate Your Package with Cookiecutter</h3>
    <ol class="arabic">
        <li><p>Your project will need a project name (e.g. <em>My Toy Package</em>) and a project slug (typically
            <code class="docutils literal notranslate"><span class="pre">my_toy_package</span></code>). Before starting,
            check that your project slug is not used in <a href="https://pypi.python.org/pypi">PyPI</a>,
            <strong>even if you do not plan to use PyPI for the moment</strong>.
        </p></li>
        <li><p>In a terminal (e.g. Anaconda Prompt):</p>
            <ol class="arabic">
                <li><p>Go to the parent directory of where you want to put the directory of your package, e.g.
                    <code class="docutils literal notranslate"><span class="pre">D:\GitHub\</span></code>.
                </p></li>
                <li><p><code class="docutils literal notranslate">
                    <span class="pre">cookiecutter https://github.com/francois-durand/package_helper_2.git</span>
                </code></p></li>
                <li><p>Answer the questions. Here is an example (some explanations follow):</p>
                    <div class="highlight-default notranslate"><div class="highlight">
<pre><span class="n">full_name [François Durand]: François Durand</span>
<span class="n">email [fradurand@gmail.com]: fradurand@gmail.com</span>
<span class="n">github_username [francois-durand]: francois-durand</span>
<span class="n">project_name [Python Boilerplate]: My Toy Package</span>
<span class="n">project_slug [my_toy_package]:</span>
<span class="n">project_short_description [Python Boilerplate contains all the boilerplate
you need to create a Python package.]: My Toy Package is a beautiful package.</span>
<span class="n">version [0.1.0]:</span>
<span class="n">Select main_git_branch_name:</span>
<span class="mi">1 - main</span>
<span class="mi">2 - master</span>
<span class="n">Choose from 1, 2 (1, 2) [1]:</span>
<span class="n">use_pytest [y]:</span>
<span class="n">use_codecov [y]:</span>
<span class="n">Select command_line_interface:</span>
<span class="mi">1 - No command-line interface</span>
<span class="mi">2 - Click</span>
<span class="mi">3 - Argparse</span>
<span class="n">Choose from 1, 2, 3 (1, 2, 3) [1]:</span>
<span class="n">create_author_file [y]:</span>
<span class="n">Select open_source_license:</span>
<span class="mi">1 - GNU General Public License v3</span>
<span class="mi">2 - MIT license</span>
<span class="mi">3 - BSD license</span>
<span class="mi">4 - ISC license</span>
<span class="mi">5 - Apache Software License 2.0</span>
<span class="mi">6 - Not open source</span>
<span class="n">Choose from 1, 2, 3, 4, 5, 6 (1, 2, 3, 4, 5, 6) [1]:</span></pre>
                    </div></div>
                </li>
            </ol>
        </li>
        <li>Optionally, in your file manager, open the directory of your package: the whole file structure
            is now in there!</li>
    </ol>
    <p>Some explanations now:</p>
    <ul class="simple">
        <li><p><code class="docutils literal notranslate"><span class="pre">main_git_branch_name</span></code>:
            your choice must be consistent with the settings of your git application. It is the name of your default
            branch in your git projects. If you do not know, it is probably "master", but there is a current tendency
            to call it "main" instead and this will probably become standard in a near future.
        </p></li>
        <li><p><code class="docutils literal notranslate"><span class="pre">use_pytest</span></code>: there are
            essentially three ways to do unit tests in Python: unittest (the standard solution), pytest (the
            recommended test package) and doctest (where tests are integrated in the docstrings). If you are new to
            testing, I suggest using doctest. But even so, pytest is useful to configure your tests (as we will do a
            bit later). For this reason, in all cases, I suggest to answer <em>yes</em>.
        </p></li>
        <li><p><code class="docutils literal notranslate"><span class="pre">use_codecov</span></code>: you use Codecov
            to assess the coverage of your code by your tests. I suggest answering <em>yes</em> anyway, even if you
            do not plan to use Codecov for the moment.
        </p></li>
        <li><p><code class="docutils literal notranslate"><span class="pre">Click</span></code>
            and <code class="docutils literal notranslate"><span class="pre">Argparse</span></code> allow you
            to easily call your program with unix-style command, e.g.
            <code class="docutils literal notranslate"><span class="pre">python my_program.py --help</span></code>.
            You can choose either of them without harm, even if you do not use it for the moment. But personally,
            I answer <em>no</em>.
        </p></li>
        <li><p><code class="docutils literal notranslate"><span class="pre">create_author_file</span></code>: I
            suggest to answer <em>yes</em>.
        </p></li>
    </ul>
</div>


<div>
    <h3>Open Your Project and Create a Virtual Environment (or not)</h3>
    <p><em>A virtual environment is essentially a Python installation dedicated to your project, with its own versions
        of the third-party packages. It ensures that if you reuse this project several months later, it will still
        work… However, it can be difficult to use in conjunction with Jupyter Notebook. If using Jupyter is important,
        I suggest that you do not use virtual environments.
    </em></p>
    <p>In PyCharm:</p>
    <ol class="arabic simple">
        <li><p>Choose "Open" and select the directory of your package.</p></li>
        <li><p>A prompt window named "Creating Virtual Environment" opens. If you want to create a virtual environment,
        validate with the default options. Otherwise, cancel.</p></li>
        <li><p>In the bottom right part of the window, you will probably see some background tasks running. Wait until
        they are finished.</p></li>
        <li><p>In the bottom right part of the window, the interpreter should be indicated: something like
            "Python X.X (your_package)". If "No Interpreter" appears instead, click on it and select the desired
            interpreter (virtual environment or not).</p></li>
    </ol>
</div>


<div>
    <h3>Install Dev Requirements</h3>
    <p><em>The file <code class="docutils literal notranslate"><span class="pre">requirements_dev.txt</span></code>
        contains the list of the third-party packages that you need for development, such as
        <code class="docutils literal notranslate"><span class="pre">sphinx</span></code> or
        <code class="docutils literal notranslate"><span class="pre">pytest</span></code>, but
        that the end-user does not need when using your package.</em></p>
    <p>In PyCharm's terminal:</p>
    <ol class="arabic">
        <li><p>Ensure you are in the directory of your package (e.g.
            <code class="docutils literal notranslate"><span class="pre">D:\GitHub\my_toy_package</span></code>).
        </p></li>
        <li class="venv"><p>Ensure that your virtual environment is activated: there should be
            <code class="docutils literal notranslate"><span class="pre">(venv)</span></code> at the beginning of
            the line. If not:</p>
            <div class="highlight-default notranslate"><div class="highlight">
<pre><span class="n">Windows: venv\Scripts\activate</span>
<span class="n">Linux:   source venv/bin/activate</span></pre>
            </div></div>
        </li>
        <li><p>
            <code class="docutils literal notranslate"><span class="pre">pip install -r requirements_dev.txt</span>
            </code>
        </p></li>
    </ol>
</div>


<div>
    <h3>Install Your Package in “Development Mode”</h3>
    <p><em>This way, your package behaves as if it were installed, but any change you make will have effect
        immediately.
    </em></p>
    <p>In PyCharm's terminal, you should still be in the directory of your package. Do:</p>
    <div class="highlight-default notranslate"><div class="highlight">
        <pre><span class="n">python setup.py develop</span></pre>
    </div>
    </div>
</div>


<div>
    <h3>Check That Everything Is Working Locally</h3>
    <ol class="arabic simple">
        <li><p>In PyCharm: menu Run → Run → All Tests. <em>It runs all the tests of the project. If you are
            new to testing, you can take example from the classes provided by the template, such as
            <code class="docutils literal notranslate"><span class="pre">my_class_1.py</span></code>.</em>
        </p></li>
        <li><p>Open the file <code class="docutils literal notranslate"><span class="pre">cov/index.html</span></code>
            (in your web browser). <em>It displays what parts of your code are covered by the tests.</em>
        </p></li>
        <li><p>
            In PyCharm: menu Run → Run → Generate docs. <em>It generates the html documentation of your project.
            The template provides examples of classes, such as the file
            <code class="docutils literal notranslate"><span class="pre">my_class_1.py</span></code>.
            You can use them as models if you are new to Sphinx documentation.</em>
        </p></li>
        <li><p>Open the file
            <code class="docutils literal notranslate"><span class="pre">build/index.html</span></code>
            (in your web browser). <em>It displays the html documentation of your project.</em>
        </p></li>
    </ol>
<div>


<div class="github">
    <h3>Create the GitHub Repo</h3>
    <p>In PyCharm:</p>
    <ol class="arabic">
        <li><p>From the file <code class="docutils literal notranslate"><span class="pre">README.rst</span></code>
            of your package, copy the short description sentence, e.g.: "My Toy Package is a beautiful package."
            (you will paste it in the form below).</p></li>
        <li><p>Menu VCS → Share project on GitHub.</p></li>
        <li><p>Fill in the form and validate, e.g.:</p>
            <div class="highlight-default notranslate"><div class="highlight">
<pre><span class="n">New repository name: my_toy_package</span>
<span class="n">Remote name: origin</span>
<span class="n">Description: My Toy Package is a beautiful package.</span></pre>
            </div></div>
        </li>
        <li><p>Accept to add all the files as proposed by PyCharm.</p></li>
    </ol>
    <p>In a browser, you can go to your <a href="https://github.com">GitHub</a> account to check that everything is
        there.
    </p>
</div>


<div class="github">
    <h3>Check your GitHub Actions</h3>
    <p>In GitHub:</p>
    <ol class="arabic simple">
        <li><p><a href="https://github.com">GitHub</a> page of your package → Actions.</p></li>
        <li><p>Check that the actions are successes (it may take several minutes). <em>The "build" action
            runs the tests of the package. The "docs" actions builds the documentation, and publishes
            it online if the branch is your default git branch (main or master).</em></p></li>
    </ol>
</div>


<div class="github">
    <h3>GitHub Settings</h3>
    <p>On the <a href="https://github.com">GitHub</a> page of your package:</p>
    <ol class="arabic simple">
        <li><p><em>Tell GitHub Pages that the documentation files are in the "gh-pages" branch of your project:</em></p>
            <ol class="arabic simple">
                <li><p>Settings → Pages → Source.</p></li>
                <li><p>Select "gh-pages".</p></li>
                <li><p>Select "/ (root)".</p></li>
                <li><p>Save.</p></li>
            </ol>
        </li>
        <li class=""codecov><p><em>Configure Codecov:</em></p>
            <ol class="arabic simple">
                <li><p>
                    On <a href="https://app.codecov.io/gh/">Codecov's website</a>, log in with your GitHub account. On your main
                    page: Not yet setup → select your project (you may have to wait for syncing before it appears).
                    Then copy the Codecov token.</p></li>
                <li><p>Back to GitHub: Settings → Secrets → New repository secret. Name:
                    <code class="docutils literal notranslate"><span class="pre">CODECOV_TOKEN</span></code>. Value:
                    paste the codecov token.
                </p></li>
            </ol>
        </li>
        <li class="pypi"><p><em>Register your PyPI credentials as "secrets", so that GitHub can automatically publish
            your package on PyPI for you:</em></p>
            <ol class="arabic simple">
                <li><p>Settings → Secrets.</p></li>
                <li><p>Select "New repository secret". Name:
                    <code class="docutils literal notranslate"><span class="pre">PYPI_USERNAME</span></code>.
                    Value: your PyPI username.
                </p></li>
                <li><p>Select "New repository secret". Name:
                    <code class="docutils literal notranslate"><span class="pre">PYPI_PASSWORD</span></code>.
                    Value: your PyPI password.
                </p></li>
            </ol>
        </li>
    </ol>
</div>


<div class="github">
    <h3>Your First Commit</h3>

    <p>In PyCharm, make a slight modification, e.g. in the file
        <code class="docutils literal notranslate"><span class="pre">README.rst</span></code>.
        Then commit/push:</p>
    <ol class="arabic simple">
        <li><p>Menu Git → Commit.</p></li>
        <li><p>Enter a commit message.</p></li>
        <li><p>Commit and push.</p></li>
        <li><p>Push.</p></li>
    </ol>
</div>


<div class="github">
    <h3>Check That Everything Is Working Online</h3>

    <ol class="arabic simple">
        <li><p><a href="https://github.com">GitHub</a> page of your package → Actions. Wait until your actions
        are finished.</p></li>
        <li><p>Check the documentation:</p>
            <ol class="arabic simple">
                <li><p><a href="https://github.com">GitHub</a> page of your package (main page) → near the bottom of the
                    page, follow the link to your documentation. Check that the documentation is there.</p></li>
                <li><p>In the table of contents, click on the first page (e.g. <em>My Toy Package</em>). Depending on
                    your initial choice of options, you should have up to four <em>badges</em>:</p>
                    <ol class="arabic simple">
                        <li class="pypi"><p>PyPI: package or version not found (there will be the version number after
                            your first release).</p></li>
                        <li class="github"><p>Build: passing.</p></li>
                        <li class="github"><p>Docs: passing.</p></li>
                        <li class="codecov"><p>Codecov: with a percentage.</p></li>
                    </ol>
                </li>
                <li><p>In the table of contents: Reference → MyClass1. You should see the documentation of the
                    first example of class provided by the template.</p></li>
            </ol>
        </li>

        <li class="codecov"><p>On <a href="https://app.codecov.io/gh/">Codecov's website</a>:</p>
            <ol class="arabic simple">
                <li><p>Select your package.</p></li>
                <li><p>You can navigate in your project to see what parts of the code are covered by the tests.</p></li>
            </ol>
        </li>
    </ol>

    <p class="pypi">If you wish, you are now ready to release your first version (cf. below).</p>
</div>


